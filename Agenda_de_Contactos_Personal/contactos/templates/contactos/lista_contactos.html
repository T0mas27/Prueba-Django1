{% extends "base.html" %}

{% block content %}
    <!-- T√≠tulo principal -->
    <h1 class="text-3xl font-bold mb-6 text-center text-blue-700">Agenda de Contactos</h1>

    <!-- Formulario de b√∫squeda con espacio entre elementos y responsive -->
    <form method="get" class="mb-6 flex flex-col sm:flex-row gap-4 items-center justify-center max-w-2xl mx-auto">
        <input
            type="text"
            name="q"
            placeholder="Buscar por nombre o correo"
            value="{{ request.GET.q|default:'' }}"
            class="w-full sm:w-1/2 px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition"
        >
        <button
            type="submit"
            class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition cursor-pointer"
        >
            Buscar
        </button>
    </form>

    <!-- Bot√≥n para agregar contacto con gradiente emerald -->
    <div class="text-center mb-6">
        <a
            href="{% url 'agregar_contacto' %}"
            class="inline-block bg-gradient-to-r from-emerald-400 to-emerald-500 text-white font-semibold px-6 py-2 rounded-full shadow-lg hover:from-emerald-500 hover:to-emerald-600 transition-all duration-300"
        >
            ‚ûï Agregar nuevo contacto
        </a>
    </div>

    <!-- Contenedor con fondo blanco, borde redondeado, sombra y borde sutil -->
    <div class="bg-white rounded-lg shadow border border-gray-200 p-6 max-w-3xl mx-auto">
        <ul class="divide-y divide-gray-200">
            {% for contacto in contactos %}
                <li class="py-4 flex justify-between items-center">
                    <!-- Datos del contacto -->
                    <div>
                        <p class="text-lg font-semibold text-gray-900">{{ contacto.nombre }}</p>
                        <p class="text-sm text-gray-600">{{ contacto.correo }}</p>
                    </div>

                    <!-- Botones de acci√≥n con espacio entre ellos -->
                    <div class="flex gap-4 items-center">
                        <!-- Bot√≥n Editar -->
                        <a
                            href="{% url 'editar_contacto' contacto.id %}"
                            class="text-emerald-600 hover:text-emerald-800 font-semibold cursor-pointer"
                            title="Editar"
                        >
                            ‚úèÔ∏è
                        </a>

                        <!-- Form para borrar contacto con confirmaci√≥n -->
                        <form
                            method="post"
                            action="{% url 'borrar_contacto' contacto.id %}"
                            onsubmit="return confirm('¬øSeguro que deseas borrar este contacto?');"
                        >
                            {% csrf_token %}
                            <button
                                type="submit"
                                class="text-red-600 hover:text-red-800 font-semibold cursor-pointer"
                                title="Borrar"
                            >
                                üóëÔ∏è
                            </button>
                        </form>
                    </div>
                </li>
            {% empty %}
                <!-- Mensaje cuando no hay contactos -->
                <li class="py-4 text-center text-gray-500 italic">No hay contactos.</li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}
